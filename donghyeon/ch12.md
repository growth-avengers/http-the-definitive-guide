# ch12. 기본 인증

- HTTP 보안
  - HTTP의 공식적인 인증 프로토콜
    - IETF(Internet Engineering Task Force)에 의해 RFC 문서를 통해 정의
    - 기본 인증(Basic Authentication)
    - 다이제스트 인증(Digest Authentication)
  - OAuth 프로토콜은 HTTP 보다 상위 레벨의 포로토콜
- 기본 인증
  - 절차
    - 요청(GET): 첫 번째 요청에는 인증 정보 없음
    - 인증 요구(401 Unauthorized): WWW-Authenticate 헤더에 보안 영역(realm) 기술
    - 인가(GET): Authorization 헤더. 재요청. 인증 알고리즘과 사용자 이름과 비밀번호를 기술한 Authorization 헤더를 함께 보냄
    - 성공(200 OK): Authentication-Info 헤더
  - 보안 영역(realm)
    - 웹 서버는 기밀문서를 보안 영역(realm) 그룹으로 나눠 저마다 다른 사용자 권한을 요구
    - realm은 사용자가 권한의 범위를 이해하는데 도움이 되어야 함
  - Base-64 인코딩
    - HTTP 기본 인증은 사용자 이름과 비밀번호를 콜론으로 이어 합치고, base64로 인코딩
    - 국제 문자나 HTTP 헤더에서 사용할 수 없는 문자(큰 따옴표, 콜론, 캐리지 리턴)을 포함한 문자를 보낼 때 유용
  - 프락시 인증
    - 중개 프락시 서버를 통해 인증할 수도 있음
    - 프락시 서버에서 접근 정책을 중앙 관리할 수 있어 리소스 전체에 대한 통합적인 접근 제어 가능
    - 웹 서버의 인증과 헤더와 상태 코드만 다르고 절차는 동일
  - 보안 결함
    - 기본 인증은 악의적이지 않은 사용자의 의도치 않은 접근 제어나 SSL 암호 기술과 혼용
    - base64 인코딩 문자는 쉽게 디코딩 가능
    - 디코딩하기 어려운 인코딩 방식을 사용해도 인코딩 문자열 자체를 사용해 접근할 수 있음
    - 트랜잭션의 의도를 바꾸는 프락시나 중개자를 거치는 경우 정상 작동하지 않을 수 있음
    - 가짜 사이트에서 악용할 수 있음
